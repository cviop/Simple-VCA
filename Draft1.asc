Version 4
SHEET 1 2196 680
WIRE 160 -96 -192 -96
WIRE 384 -96 160 -96
WIRE 1024 -96 384 -96
WIRE 160 -32 160 -96
WIRE -192 16 -192 -96
WIRE 384 64 384 -96
WIRE 160 112 160 48
WIRE 272 112 160 112
WIRE 320 112 272 112
WIRE 160 128 160 112
WIRE 1024 128 1024 -96
WIRE 1136 208 1136 112
WIRE 272 224 272 112
WIRE 1408 256 1200 256
WIRE 1632 256 1600 256
WIRE 1792 256 1712 256
WIRE 384 272 384 160
WIRE 384 272 336 272
WIRE 1792 288 1792 256
WIRE 1024 304 1024 208
WIRE -192 320 -192 96
WIRE 64 320 -192 320
WIRE 160 320 160 192
WIRE 160 320 64 320
WIRE 1024 320 1024 304
WIRE 384 336 384 272
WIRE 64 352 64 320
WIRE 1408 352 1360 352
WIRE 1136 400 1136 304
WIRE 1136 400 1072 400
WIRE 1360 400 1360 352
WIRE 1792 400 1792 368
WIRE 272 448 272 320
WIRE 384 448 384 416
WIRE 384 448 272 448
WIRE 1136 448 1136 400
WIRE 384 496 384 448
WIRE 1024 560 1024 416
WIRE 1136 560 1136 528
WIRE 1360 560 1360 480
WIRE 384 576 384 560
FLAG 64 352 0
FLAG 384 448 Vout
FLAG 384 576 0
FLAG 1024 560 0
FLAG 1136 560 0
FLAG 1136 112 Vout
FLAG 1792 400 0
FLAG 1360 560 0
FLAG 1600 352 0
FLAG 1024 304 Vdd
DATAFLAG 384 0 ""
SYMBOL zener 176 192 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value BZX84C15L
SYMBOL voltage -192 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 400
SYMBOL res 144 -48 R0
SYMATTR InstName R1
SYMATTR Value 1Meg
SYMBOL npn 320 64 R0
SYMATTR InstName Q1
SYMBOL npn 336 224 M0
SYMATTR InstName Q2
SYMBOL res 368 320 R0
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL nmos 1072 320 M0
SYMATTR InstName M1
SYMATTR Value SPA11N60C3
SYMBOL cap 368 496 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res 1008 112 R0
SYMATTR InstName R2
SYMATTR Value 143
SYMBOL pnp 1200 304 R180
SYMATTR InstName Q3
SYMBOL res 1120 432 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL voltage 1792 272 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 5 40m 1u 1u 40m 80m)
SYMBOL Optos\\PC817C 1504 304 M0
SYMATTR InstName U1
SYMBOL res 1728 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 2k
SYMBOL res 1344 384 R0
SYMATTR InstName R6
SYMATTR Value 10k
TEXT -304 408 Left 2 ;.save V(Vout)\n.step param X 100 10000 100\n.meas VLoadAvg avg V(Vout)\n.option plotwinsize=0 numdgt=15
TEXT -296 360 Left 2 !.tran 0 1.5 1
